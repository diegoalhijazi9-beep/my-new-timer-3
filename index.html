<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clock, Timer & Countdown</title>

    <style>
        :root {
            --bg: #111;
            --text: #fff;
            --card: #1c1c1c;
            --button-bg: #333;
            --button-text: #fff;
        }

        body.light {
            --bg: #f5f5f5;
            --text: #000;
            --card: #ffffff;
            --button-bg: #ddd;
            --button-text: #000;
        }

        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: var(--bg);
            color: var(--text);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 40px;
        }

        h1 {
            margin-bottom: 10px;
        }

        .card {
            background: var(--card);
            padding: 20px 30px;
            border-radius: 12px;
            margin: 20px;
            text-align: center;
            box-shadow: 0 0 10px #0005;
        }

        .time-display {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .buttons {
            display: flex;
            gap: 12px;
            justify-content: center;
        }

        button {
            padding: 10px 20px;
            font-size: 1rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            background: var(--button-bg);
            color: var(--button-text);
        }

        input {
            width: 60px;
            padding: 8px;
            font-size: 1rem;
            border-radius: 6px;
            border: none;
            text-align: center;
            margin: 5px;
        }

        #settingsMenu {
            position: fixed;
            top: 15px;
            right: 15px;
            background: var(--card);
            padding: 10px 15px;
            border-radius: 10px;
            cursor: pointer;
            box-shadow: 0 0 10px #0005;
        }
    </style>
</head>
<body>

    <div id="settingsMenu">
        ‚öôÔ∏è Settings
        <div>
            <button id="themeToggle">Toggle Light/Dark</button>
        </div>
    </div>

    <!-- CLOCK -->
    <div class="card">
        <h1>Current Time</h1>
        <div id="clock" class="time-display">00:00:00</div>
    </div>

    <!-- TIMER -->
    <div class="card">
        <h1>Timer</h1>
        <div id="timerDisplay" class="time-display">00:00:00</div>

        <div class="buttons">
            <button id="startTimer">Start</button>
            <button id="pauseTimer">Pause</button>
            <button id="resetTimer">Reset</button>
        </div>
    </div>

    <!-- COUNTDOWN -->
    <div class="card">
        <h1>Countdown</h1>

        <div>
            <input id="cdHours" type="number" min="0" placeholder="HH">
            <input id="cdMinutes" type="number" min="0" max="59" placeholder="MM">
            <input id="cdSeconds" type="number" min="0" max="59" placeholder="SS">
        </div>

        <div id="countdownDisplay" class="time-display">00:00:00</div>

        <div class="buttons">
            <button id="startCountdown">Start</button>
            <button id="pauseCountdown">Pause</button>
            <button id="resetCountdown">Reset</button>
        </div>
    </div>

    <!-- ALARM SOUND -->
    <audio id="alarmSound">
        <source src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg" type="audio/ogg">
    </audio>

    <script>
        /* CLOCK */
        function updateClock() {
            const now = new Date();
            const h = String(now.getHours()).padStart(2, '0');
            const m = String(now.getMinutes()).padStart(2, '0');
            const s = String(now.getSeconds()).padStart(2, '0');
            document.getElementById("clock").textContent = `${h}:${m}:${s}`;
        }
        setInterval(updateClock, 1000);
        updateClock();

        /* TIMER */
        let timerSec = 0;
        let timerInt = null;

        function updateTimerDisplay() {
            let hrs = Math.floor(timerSec / 3600);
            let mins = Math.floor((timerSec % 3600) / 60);
            let secs = timerSec % 60;

            document.getElementById("timerDisplay").textContent =
                `${String(hrs).padStart(2, '0')}:${String(mins).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
        }

        document.getElementById("startTimer").onclick = () => {
            if (timerInt) return;
            timerInt = setInterval(() => {
                timerSec++;
                updateTimerDisplay();
            }, 1000);
        };

        document.getElementById("pauseTimer").onclick = () => {
            clearInterval(timerInt);
            timerInt = null;
        };

        document.getElementById("resetTimer").onclick = () => {
            clearInterval(timerInt);
            timerInt = null;
            timerSec = 0;
            updateTimerDisplay();
        };

        /* COUNTDOWN */
        let cdSec = 0;
        let cdInt = null;
        const alarm = document.getElementById("alarmSound");

        function updateCountdownDisplay() {
            let hrs = Math.floor(cdSec / 3600);
            let mins = Math.floor((cdSec % 3600) / 60);
            let secs = cdSec % 60;

            document.getElementById("countdownDisplay").textContent =
                `${String(hrs).padStart(2, '0')}:${String(mins).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
        }

        document.getElementById("startCountdown").onclick = () => {
            if (cdInt) return;

            if (cdSec === 0) {
                const h = parseInt(document.getElementById("cdHours").value) || 0;
                const m = parseInt(document.getElementById("cdMinutes").value) || 0;
                const s = parseInt(document.getElementById("cdSeconds").value) || 0;
                cdSec = h * 3600 + m * 60 + s;
            }

            cdInt = setInterval(() => {
                if (cdSec > 0) {
                    cdSec--;
                    updateCountdownDisplay();
                } else {
                    clearInterval(cdInt);
                    cdInt = null;
                    alarm.play();   // üîî PLAY ALARM HERE
                }
            }, 1000);
        };

        document.getElementById("pauseCountdown").onclick = () => {
            clearInterval(cdInt);
            cdInt = null;
        };

        document.getElementById("resetCountdown").onclick = () => {
            clearInterval(cdInt);
            cdInt = null;
            cdSec = 0;
            updateCountdownDisplay();
        };

        /* THEME TOGGLE */
        document.getElementById("themeToggle").onclick = () => {
            document.body.classList.toggle("light");
        };
    </script>

</body>
</html>
